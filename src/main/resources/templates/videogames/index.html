<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <th:block
      th:replace="~{ fragments/head :: generic-head(Videogames) }"
    ></th:block>
  </head>
  <body>
    <th:block th:replace="~{ fragments/header :: header-frag }"></th:block>
    <ul th:each="videogame : ${videogames}">
      <li th:text="${videogame.vgName}"></li>
      <li th:text="${videogame.publicationDate}"></li>
      <li th:text="${videogame.publisher}"></li>
      <li th:text="${videogame.developer}"></li>
      <li th:text="${videogame.description}"></li>
      <li th:text="${videogame.coverUrl}"></li>
      <!-- Bottone per aprire il modal -->
      <button
        class="btn btn-danger"
        type="button"
        data-bs-toggle="modal"
        th:data-bs-target="'#delete-modal-' + ${videogame.id}"
      >
        Delete
      </button>

      <!-- Modal -->
      <div
        class="modal fade"
        th:id="'delete-modal-' + ${videogame.id}"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <form th:action="@{|/videogames/delete/232|}" method="post">
              <div class="modal-header">
                <h1
                  class="modal-title fs-5"
                  th:text="|Rimozione di ${videogame.vgName}|"
                ></h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <h6
                  th:text="|Confermi di voler rimuovere ${videogame.vgName} con id: ${videogame.id}|"
                ></h6>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Annulla
                </button>
                <button class="btn btn-primary" type="submit">Conferma</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </ul>
    <h2 th:text="${videogames.size}"></h2>
    <th:block th:replace="~{ fragments/header :: bootstrapJS }"></th:block>
  </body>
</html>
